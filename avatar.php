<?php
require_once 'classe/PDOFactory.php';
$bdd = PDOFactory::getMySQLConnection();
$bddResults = $bdd->query("SELECT name, element, rarity, type_id FROM personnage ORDER BY id DESC;");
include_once 'inc/header.inc.php';
?>

<main>
   <div class="filter" id="filter">
      <div class="filter-header">
         <div class="whitneyBold">Filtre</div>
         <div data-close-button class="close-button">&times;</div>
      </div>
      <div class="filterContent">
         <div class="filter-body">
            <div class="filter-element">
               <div class="flex whitneyBold">
                  <h3>Rareté</h3>
                  <div class="filter-button active button-all"><p>All</p></div>
               </div>
               <div class="flex poppinsLight filter-rarity-con">
                  <p class="filter-button active" data-val='4'>4★</p>
                  <p class="filter-button active" data-val='5'>5★</p>
               </div>
            </div>
            <div class="filter-element">
               <div class="flex whitneyBold">
                  <h3>Type</h3>
                  <div class="filter-button active button-all"><p>All</p></div>
               </div>
               <div class="flex filter-arme-con">
                  <img class="filter-button active" src="img/icon/sword.png" alt="sword_icon" data-val='0'>
                  <img class="filter-button active" src="img/icon/claymore.png" alt="claymore_icon" data-val='1'>
                  <img class="filter-button active" src="img/icon/polearm.png" alt="polearm_icon" data-val='2'>
                  <img class="filter-button active" src="img/icon/bow.png" alt="bow_icon" data-val='3'>
                  <img class="filter-button active" src="img/icon/catalyst.png" alt="catalyst_icon" data-val='4'>
               </div>
            </div>
            <div class="filter-element">
               <div class="flex whitneyBold">
                  <h3>Élément</h3>
                  <div class="filter-button active button-all"><p>All</p></div>
               </div>
               <div class="flex filter-element-con">
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Anémo" data-val='Anémo'>
                      <path d="M.2 4.905c.764 1.2 1.813 2.475 3.362 2.434 1.025-.067 2.374.224 2.679 1.36.313.864-.825 1.981-1.513 1.123-.108-.186-.04-.3.173-.325 1 .02 1.348-1.12.4-1.514-.813-.1-1.548.527-2.33.707C.792 9.32-.523 6.729.2 4.907zm9.912 2.43c-1.056-.074-2.45.563-2.375 1.785a.973.973 0 001.1.985c.316.012.724-.547.294-.613-1.621 0-1.022-2.1.346-1.4a5.222 5.222 0 002.343.687c1.8-.177 2.572-2.3 1.989-3.859-.871 1.303-1.957 2.597-3.697 2.414zm-2.42-.772a7.516 7.516 0 002.226-.861A3.067 3.067 0 009.286.09a5.143 5.143 0 01-1.594 6.473zm-1.343-.014A5.071 5.071 0 014.734.07a3.075 3.075 0 00-1.122 5.287 7.944 7.944 0 002.7 1.235zm5.342-.09c-1.143.656-2.594.363-3.651 1.217a1.557 1.557 0 00.07 2.768c.234.1.462.206.689.014.223-.167.4-.162.72-.012a9.094 9.094 0 00-2.512 3.482 9.217 9.217 0 00-2.523-3.478.605.605 0 01.726 0c.6.347 1.443-.4 1.555-1 .247-1.179-.936-2.106-1.982-2.33-.512-.12-1.038-.182-1.55-.3C.866 6.337.51 3.94 1.669 2.105c.668 4.9 4 3.555 5.332 6.26 1.32-2.67 4.678-1.382 5.345-6.26.81 1.415 1.054 3.522-.655 4.354zM7.57 11.65L7 11.271l-.572.385.58.972zM7 10.137a1.592 1.592 0 01-1 .911.925.925 0 00.99-.272c.427.327.795.417 1.047.255A1.561 1.561 0 017 10.137z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Géo" data-val='Géo'>
                      <path d="M7.119 6.009c-.5.538-.953 1.041-1.42 1.537a.23.23 0 00-.061.286 4.5 4.5 0 001.355 1.719.181.181 0 00.164-.009c.388-.257.785-.5 1.15-.788a16.081 16.081 0 002.142-1.993c.18.366.382.7.518 1.063.2.535.356 1.088.535 1.632a.293.293 0 01-.061.286 12.277 12.277 0 01-1.768 1.985c-.84.755-1.714 1.47-2.574 2.2A1.2 1.2 0 016.99 14c-.5-.411-1.02-.817-1.52-1.243a29.249 29.249 0 01-2.847-2.774A16.778 16.778 0 01.529 7.137a.245.245 0 010-.279A10.138 10.138 0 011.875 5.1a25.247 25.247 0 005.158 8.241 12.37 12.37 0 002.98-4.617l-.036-.03-2.933 2.463c-.04-.032-.081-.061-.117-.1a13.544 13.544 0 01-2.562-3.364.249.249 0 01.05-.356c.5-.442 1-.89 1.5-1.325.227-.194.474-.365.737-.566zm.228 2.545c.263-.2.51-.372.736-.566.506-.435 1-.883 1.5-1.325a.251.251 0 00.05-.356 13.523 13.523 0 00-2.56-3.369c-.035-.034-.076-.063-.115-.1L4.025 5.306l-.04-.03A12.345 12.345 0 016.97.659 25.245 25.245 0 0112.126 8.9a10.138 10.138 0 001.345-1.758.244.244 0 000-.279 16.724 16.724 0 00-2.1-2.846 29.136 29.136 0 00-2.842-2.774C8.03.817 7.514.411 7.009 0c-.05.033-.081.049-.107.071-.86.732-1.734 1.447-2.573 2.2A12.23 12.23 0 002.56 4.258a.293.293 0 00-.062.286c.179.544.334 1.1.536 1.632.136.361.336.7.517 1.063a16.2 16.2 0 012.14-1.993c.367-.285.765-.531 1.152-.788a.181.181 0 01.164-.009 4.5 4.5 0 011.355 1.719.231.231 0 01-.06.286c-.468.5-.926 1-1.421 1.537z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Électro" data-val='Électro'>
                      <path d="M4.53 13.517a6.911 6.911 0 003.025-.468c-.237-.073-.46-.134-.675-.21a8.559 8.559 0 01-.643-.251 3.907 3.907 0 01-2.24-2.243 3.449 3.449 0 01-.127-1.82c.117.139.222.277.34.4a1.044 1.044 0 001.01.32A1.571 1.571 0 006.499 7.89a2.422 2.422 0 00-2.083-2.8 2.993 2.993 0 00-3.217 2.152 7.083 7.083 0 00-.326 2.186c-.005.309 0 .618 0 .9A7.089 7.089 0 01.01 6.593a6.949 6.949 0 012.679-5.081c-.26.472-.52.917-.752 1.374a3.664 3.664 0 00-.412 1.52c.207-.192.385-.36.566-.523a4.657 4.657 0 012.155-1.161 3.573 3.573 0 013.075.79l-.442.09a1.213 1.213 0 00-.881 1.693 2.008 2.008 0 001.719 1.34 2.575 2.575 0 002.873-2.56 3.33 3.33 0 00-1.1-2.508A7.781 7.781 0 007.287.102C7.235.078 7.183.05 7.106.012a7 7 0 016.892 5.915c-.282-.45-.544-.9-.836-1.328a3.743 3.743 0 00-1.11-1.087c.08.37.172.72.227 1.077a4.086 4.086 0 01-.792 3.364 3.554 3.554 0 01-1.51 1.017.115.115 0 01-.048 0c.062-.2.134-.39.184-.587a1.091 1.091 0 00-.525-1.236A1.68 1.68 0 007.823 7.1a2.357 2.357 0 00-1.168 2.96 2.745 2.745 0 002.377 1.879 4.373 4.373 0 002.462-.5c.465-.215.9-.5 1.344-.76.056-.031.108-.07.18-.118a6.922 6.922 0 01-8.487 2.955z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 306 289" class="filter-button active Dendro" data-val='Dendro'>
                      <path d="M 145.00,53.00 C 150.48,58.12 159.52,72.12 158.05,80.00 C 156.86,86.34 149.95,94.15 145.00,98.00 C 142.40,95.01 137.17,89.18 135.36,86.00 C 128.72,74.27 138.77,62.54 145.00,53.00 Z M 63.00,87.00 C 70.57,87.00 80.70,85.35 84.28,94.00 C 85.24,96.34 85.79,101.38 86.00,104.00 C 70.12,106.85 65.45,102.90 63.00,87.00 Z M 205.00,104.13 C 205.00,104.13 206.73,94.00 206.73,94.00 C 210.19,85.36 220.51,87.00 228.00,87.00 C 227.09,92.93 225.20,101.82 218.98,104.13 C 215.12,105.78 209.05,104.53 205.00,104.13 Z M 76.00,146.00 C 76.00,146.00 75.10,136.00 75.10,136.00 C 75.92,117.55 84.24,101.39 102.00,94.21 C 105.08,92.96 108.70,91.58 112.00,91.18 C 119.83,90.23 127.45,91.97 134.00,96.36 C 136.55,98.08 140.25,100.61 140.41,104.00 C 140.52,106.21 139.07,108.20 138.00,110.00 C 130.12,105.64 127.92,99.61 115.00,100.04 C 98.32,100.60 83.14,117.34 84.09,134.00 C 84.47,140.56 86.34,147.14 89.27,153.00 C 100.02,174.48 115.01,174.05 132.00,185.52 C 139.65,190.68 140.66,193.11 146.00,200.00 C 153.76,184.19 168.32,181.59 182.00,173.83 C 188.16,170.33 195.81,163.00 199.53,157.00 C 211.36,137.94 209.81,114.18 188.00,103.28 C 184.06,101.30 180.43,100.19 176.00,100.04 C 163.08,99.61 160.88,105.64 153.00,110.00 C 151.93,108.20 150.48,106.21 150.59,104.00 C 150.74,100.93 153.68,98.68 156.00,97.10 C 162.10,92.98 169.61,90.44 177.00,91.17 C 195.19,92.96 209.38,105.41 214.08,123.00 C 216.83,133.33 215.80,136.10 215.00,146.00 C 224.84,140.09 225.64,141.18 235.00,147.00 C 227.68,155.61 222.55,153.84 215.00,147.00 C 211.77,162.99 203.63,173.54 190.00,182.30 C 178.95,189.41 167.32,193.12 157.01,202.29 C 150.16,208.39 149.08,211.53 145.00,219.00 C 141.51,200.62 117.23,192.03 103.00,183.55 C 86.36,173.63 81.20,164.95 76.00,147.00 C 68.45,153.84 63.32,155.61 56.00,147.00 C 64.97,141.42 66.49,139.90 76.00,146.00 Z M 107.00,147.00 C 103.00,142.25 98.82,136.56 99.21,130.00 C 100.21,113.37 119.08,108.16 131.00,121.00 C 128.45,121.01 125.42,120.87 123.00,121.70 C 119.47,122.91 116.69,125.60 115.23,129.01 C 110.39,140.28 119.71,151.52 127.00,159.00 C 129.49,161.56 130.91,163.08 133.00,166.00 C 125.61,162.70 112.08,151.89 107.00,151.23 C 102.78,150.67 99.68,152.28 96.00,154.00 C 99.80,149.01 101.22,148.74 107.00,147.00 Z M 161.00,121.00 C 169.87,109.92 186.92,111.56 191.06,126.00 C 193.55,134.67 189.33,140.05 185.00,147.00 C 189.33,148.52 191.58,148.86 194.00,153.00 C 194.00,153.00 184.00,151.24 184.00,151.24 C 184.00,151.24 173.00,157.28 173.00,157.28 C 173.00,157.28 158.00,166.00 158.00,166.00 C 160.09,163.08 161.51,161.56 164.00,159.00 C 171.55,151.24 180.68,140.65 175.77,129.00 C 174.44,125.82 172.25,123.17 168.99,121.89 C 166.55,120.94 163.58,121.02 161.00,121.00 Z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Hydro" data-val='Hydro'>
                      <path d="M2.923 12.245l.253.13a7.943 7.943 0 003.89.963 3.753 3.753 0 00.487-7.464 3.6 3.6 0 00-1.691.132.938.938 0 01-.716-1.732 4.3 4.3 0 011.48-.366 4.912 4.912 0 015.049 3.446 4.933 4.933 0 01-2.517 5.764c4.218-1.543 4.723-7.809.812-10.017a5.342 5.342 0 00-3.437-.829 5.506 5.506 0 00-3.65 1.775 6.606 6.606 0 00-.416.524.873.873 0 01-.927.337.929.929 0 01-.781-.638.881.881 0 01.1-.684 6.158 6.158 0 011.363-1.721A7.091 7.091 0 016.136.081a6.933 6.933 0 016.848 3.359c2.683 4.1-.263 9.987-5.094 10.472a6.838 6.838 0 01-3.241-.343 3.994 3.994 0 01-1.726-1.324zm5.516-.119a2.044 2.044 0 01-2.35.064 1.5 1.5 0 01-.007-2.613.949.949 0 011.433.505c.77 2.06 2.637.147 1.424-1.246a2.385 2.385 0 00-2.17-.95 2.486 2.486 0 10.784 4.891 2.393 2.393 0 001.52-1.151c-.21.166-.41.351-.634.5zM2.21 9.521a.663.663 0 10.663.663.663.663 0 00-.663-.663zM.959 6.133a.958.958 0 10.957.957.958.958 0 00-.957-.957z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Pyro" data-val='Pyro'>
                      <path d="M7.113 14c-1.542-1.47-3.479-2.25-5.16-3.477-1.472-1.1-.269-3.047.585-4.163a17.969 17.969 0 001.753-2.522c-.007 1.6 1.56 2.152 2.781 2.709C4.77 6.412 2.808 9.1 4.645 10.92c-1.873-.773-2.7-2.455-1.3-4.17a2.113 2.113 0 00-.535 3.662c1.332.9 2.865 1.483 4.153 2.461a.2.2 0 00.187.019c1.24-.892 2.61-1.577 3.921-2.349 1.654-.887 1.47-2.773-.154-3.583 1.455 2.82-1.213 4.942-3.9 4.745-2.925-.214-3.08-3.174-.626-2.705a1.39 1.39 0 00-.682 1.5c.526 1.495 2.954.974 3.81.031 1.095-1.027.327-3.031-.979-3.6-1.492-.7-4.443-1.527-3.3-3.737C5.936 2.109 6.75 1.385 6.877 0c.433.581 1.443 1.719 1.24 2.452-.24.72-1.085.982-1.348 1.71a1.334 1.334 0 00.578 1.824c-1.018-1.09.09-2.409 1.15-2.981a3.3 3.3 0 001.136 4.056c-.725-1.6-1.347-1.64-.128-3.408a4.575 4.575 0 001.806 2.766c2.057 1.807 1.9 3.731-.52 5.067A16.689 16.689 0 007.112 14zm.541-3.5C11.445 9.076 6.7 5.335 5.29 8.493c1.416-.809 3.357.427 2.364 2.007z"/>
                  </svg>
                  <svg width="52" height="52" viewBox="0 0 15 15" class="filter-button active Cryo" data-val='Cryo'>
                      <path d="M1.172 3.644s1.332 2.052 1.843 3.163c.052-.198.093-.4.124-.602a6.245 6.245 0 013.337.506A6.248 6.248 0 014.37 4.068c.16-.128.314-.264.46-.408-1.217.112-3.658-.016-3.658-.016zM5.426 6.1a7.203 7.203 0 00-2.314-.552 3.422 3.422 0 00-.193-.9c.303-.053.598-.147.876-.279A7.212 7.212 0 005.426 6.1zm-4.254 4.256s1.332-2.052 1.843-3.163c.052.198.093.4.124.602a6.245 6.245 0 003.337-.506A6.248 6.248 0 004.37 9.932c.16.128.314.264.46.408-1.217-.112-3.658.016-3.658.016zM5.426 7.9a7.203 7.203 0 01-2.314.552c-.024.308-.089.61-.193.9.303.053.598.147.876.279A7.212 7.212 0 015.426 7.9zM7 13.75s-1.11-2.177-1.815-3.175c.198.054.392.119.583.193A6.237 6.237 0 007 7.626a6.247 6.247 0 001.232 3.143c.189-.074.382-.139.578-.193C8.106 11.574 7 13.75 7 13.75zm0-4.912a7.195 7.195 0 01-.675 2.284c.253.175.482.384.68.62.198-.236.427-.445.68-.62A7.214 7.214 0 017 8.838zm5.828 1.518s-1.331-2.052-1.843-3.163c-.051.198-.092.4-.123.602a6.248 6.248 0 01-3.338-.506A6.255 6.255 0 019.63 9.932c-.16.128-.314.264-.46.408 1.217-.112 3.657.016 3.657.016zM8.574 7.9a7.207 7.207 0 002.314.552c.024.308.089.61.193.9a3.435 3.435 0 00-.877.279A7.212 7.212 0 008.574 7.9zm4.254-4.256s-1.331 2.052-1.843 3.163a5.994 5.994 0 01-.123-.602 6.248 6.248 0 00-3.338.506A6.255 6.255 0 009.63 4.068a5.894 5.894 0 01-.46-.408c1.217.112 3.657-.016 3.657-.016zM8.574 6.1a7.207 7.207 0 012.314-.552c.024-.308.089-.61.193-.9a3.435 3.435 0 01-.877-.279A7.212 7.212 0 018.574 6.1zM7 .25S5.89 2.426 5.185 3.424c.198-.054.392-.119.583-.193A6.237 6.237 0 017 6.374a6.247 6.247 0 011.232-3.143c.189.074.382.139.578.193C8.106 2.426 7 .25 7 .25zm0 4.912a7.195 7.195 0 00-.675-2.284 3.45 3.45 0 00.68-.62c.198.236.427.445.68.62A7.214 7.214 0 007 5.162zm1.103 2.853l-.068.787-.718-.334H6.68l-.717.334-.065-.787-.32-.557-.649-.454.649-.453.32-.553.068-.788.717.335h.64l.718-.335.068.788.32.55.648.454-.648.454z"/>
                  </svg>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div id="overlay"></div>


   <div class="box-object">
      <h1 class="whitneyBold">Archive / Personnages</h1>

      <div class="flex box-object-tri">
         <div class="ordre">
            <a class="whitneyBold">▲</a>
         </div>
         <div class="flex filtre" data-filter-target="#filter">
            <svg viewBox="0 0 512 512">
               <path d="M3.853 54.87A39.987 39.987 0 0140 32h432c15.5 0 29.5 8.9 36.1 22.87 6.7 13.97 4.6 30.5-6 42.46L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6-10.8 5.4-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6v-79.1L9.042 97.33a40 40 0 01-5.188-42.46h-.001z"/>
            </svg>
            <a class="whitneyBold">Filtre</a>
         </div>
         <div class="searchBar flex">
            <input type="text" placeholder="Search..." name="bar" id="searchBar"  autocomplete="off">
         </div>
      </div>

      <div class="flex objectList">
         <?php
            $j = 1;
            foreach ($bddResults as $row) {
               echo "<a href='p/" . $row['name'] . "' class='objectList-item' data-nom='" . $row['name'] . "' data-element='" . $row['element'] . "' data-rarity='" . $row['rarity'] . "' data-arme='" . $row['type_id'] . "' style='order:" . $j . "'>";
               echo "<div class='objectList-container'>";
                     echo "<img src='img/perso/" . $row['name'] . ".png' alt='" . $row['name'] . "' class='objectList-avatar " . 'c' . $row['rarity'] . "'>";
                     echo "<img src='img/icon/" . $row['element'] . ".png' alt='" . $row['element'] . "' class='objectList-element'>";
                     echo "<div class='br-top10'></div>";
                     echo "<div class='objectList-card whitneyBold'><div class='nameObject'><span class='nmSpan'>" . $row['name'] . "</span></div>";
                        echo "<div class='flex starContainer star-" . $row['rarity'] . "'>";
                           for ($i = 0; $i < $row['rarity'];$i++){
                              echo "<div class='str_20px'><svg viewBox='0 0 576 512' class='objectListItem-star'><path d='M381.2 150.3l143.7 21.2c11.9 1.7 21.9 10.1 25.7 21.6 3.8 11.6.7 24.2-7.9 32.8L438.5 328.1l24.6 146.6c2 12-2.9 24.2-12.9 31.3-9.9 7.1-23 8-33.7 2.3l-128.4-68.5-128.3 68.5c-10.8 5.7-23.9 4.8-33.8-2.3-9.9-7.1-14.9-19.3-12.8-31.3l24.6-146.6L33.58 225.9c-8.61-8.6-11.67-21.2-7.89-32.8 3.77-11.5 13.74-19.9 25.73-21.6L195 150.3l64.4-132.33C264.7 6.954 275.9-.04 288.1-.04c12.3 0 23.5 6.994 28.8 18.01l64.3 132.33z'/></svg></div>";
                           }
                        echo "</div>";
                     echo "</div>";
                  echo "</div>";
               echo "</a>";
               $j++;
            }
         ?>
      </div>
   </div>

<?php include_once 'inc/footer.inc.php';?>